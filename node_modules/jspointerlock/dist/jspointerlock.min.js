!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("events"),require("jquery")):"function"==typeof define&&define.amd?define(["exports","events","jquery"],b):b(a.jsPointerLock=a.jsPointerLock||{},a.EventEmitter,a.$)}(this,function(a,b,c){"use strict";b="default"in b?b.default:b,c="default"in c?c.default:c;var d=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},g=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},h=function(a){function b(a){d(this,b);var e=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return e.$element=c(a),e.element=e.$element.get(0),c(document).on("pointerlockchange mozpointerlockchange webkitpointerlockchange",e.pointerLockChange.bind(e)).on("pointerlockerror mozpointerlockerror webkitpointerlockerror",e.pointerLockError.bind(e)),setTimeout(function(){b.isSupported||e.emit("unsupported")},0),e}return g(b,a),e(b,[{key:"requestPointerLock",value:function(){var a=this.element;return a.requestPointerLock?a.requestPointerLock():a.mozRequestPointerLock?a.mozRequestPointerLock():a.webkitRequestPointerLock?a.webkitRequestPointerLock():void 0}},{key:"pointerLockChange",value:function(a){this.emit("change",this.isLocked,a)}},{key:"pointerLockError",value:function(a){this.emit("error",new Error("pointer lock failed"),a)}},{key:"isLocked",get:function(){return b.pointerLockElement===this.element}}],[{key:"exitPointerLock",value:function(){return document.exitPointerLock?document.exitPointerLock():document.mozExitPointerLock?document.mozExitPointerLock():document.webkitExitPointerLock?document.webkitExitPointerLock():void 0}},{key:"pointerLockElement",get:function(){return document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||null}},{key:"isSupported",get:function(){return"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document}}]),b}(b);a.default=h,a.PointerLock=h,Object.defineProperty(a,"__esModule",{value:!0})});